(function(){"use strict";let d=(n={})=>{let r={currentHeight:null,frameId:null};return{getContentHeight(){let e=document.querySelectorAll("*");if(!e.length)return;let t=[...e].map(s=>s.offsetTop+s.offsetHeight);return Math.max(...t)},heightHasChanged(e){return r.currentHeight!==e},adjust(){if(!r.frameId)return;let e=this.getContentHeight();if(!this.heightHasChanged(e))return;r.currentHeight=e;let t={key:"iframe-adjuster",id:r.frameId,height:r.currentHeight};window.parent.postMessage(t,"*")},setId(e){r.frameId=e},onMessage(e){let t=e.data;t.key==="iframe-adjuster"&&this.setId(t.id)},loop(){requestAnimationFrame(()=>{this.adjust(),this.loop()})},setEventBindings(){window.addEventListener("message",this.onMessage.bind(this))},init(){this.loop(),this.setEventBindings()}}.init()};function u(n){return d(n)}function o(){let n={frames:document.querySelectorAll("[data-iframe-adjust]")};return{setupFrames(){[...n.frames].map((i,e)=>{let t=`frame-${e+1}`,s={key:"iframe-adjuster",id:t};i.setAttribute("data-iframe-id",t),i.contentWindow.postMessage(s,"*")})},getFrameById(i){return document.querySelector(`[data-iframe-adjust][data-iframe-id="${i}"]`)},onMessage(i){let e=i.data;if(e.key!=="iframe-adjuster")return;let t=this.getFrameById(e.id);t&&requestAnimationFrame(()=>{t.style.height=`${e.height}px`})},setEventBindings(){window.addEventListener("message",this.onMessage.bind(this)),[...n.frames].map(i=>{i.addEventListener("load",this.setupFrames.bind(this))})},init(){n.frames.length&&(this.setupFrames(),this.setEventBindings())}}}function a(){window.self!==window.top&&u();const n=()=>{o().init()};window.iFrameAdjuster=n}(()=>{if(document.readyState=="interactive")return a();document.addEventListener("DOMContentLoaded",a)})()})();
